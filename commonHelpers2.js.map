{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["const feedbackForm = document.querySelector('.feedback-form');\nconst STORAGE_KEY = 'feedback-form-state';\nlet data = JSON.parse(localStorage.getItem(STORAGE_KEY)) || '';\n\nfeedbackForm.addEventListener('input', event => {\n  const userEmail = event.currentTarget.elements.email.value.trim();\n  const userMessage = event.currentTarget.elements.message.value.trim();\n\n  const userData = {\n    email: userEmail,\n    message: userMessage,\n  };\n\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(userData));\n});\n\nfeedbackForm.addEventListener('submit', event => {\n  event.preventDefault();\n\n  const email = feedbackForm.elements.email.value.trim();\n  const message = feedbackForm.elements.message.value.trim();\n\n  if (email.length === 0 || message.length === 0) {\n    alert('All form fields must be filled in');\n  } else {\n    const formDetails = { email, message };\n    console.log(formDetails);\n    feedbackForm.reset();\n    localStorage.removeItem(STORAGE_KEY);\n  }\n});\n\nfunction loadFromLS(key = 'empty') {\n  try {\n    const result = data;\n    return result;\n  } catch (error) {\n    console.error(error);\n  }\n}\n\nfunction restoreData() {\n  const { email, message } = loadFromLS(STORAGE_KEY) || {};\n\n  feedbackForm.elements.email.value = email || '';\n  feedbackForm.elements.message.value = message || '';\n}\n\nrestoreData();\n"],"names":["feedbackForm","STORAGE_KEY","data","event","userEmail","userMessage","userData","email","message","loadFromLS","key","error","restoreData"],"mappings":"wFAAA,MAAMA,EAAe,SAAS,cAAc,gBAAgB,EACtDC,EAAc,sBACpB,IAAIC,EAAO,KAAK,MAAM,aAAa,QAAQD,CAAW,CAAC,GAAK,GAE5DD,EAAa,iBAAiB,QAASG,GAAS,CAC9C,MAAMC,EAAYD,EAAM,cAAc,SAAS,MAAM,MAAM,OACrDE,EAAcF,EAAM,cAAc,SAAS,QAAQ,MAAM,OAEzDG,EAAW,CACf,MAAOF,EACP,QAASC,CACb,EAEE,aAAa,QAAQJ,EAAa,KAAK,UAAUK,CAAQ,CAAC,CAC5D,CAAC,EAEDN,EAAa,iBAAiB,SAAUG,GAAS,CAC/CA,EAAM,eAAc,EAEpB,MAAMI,EAAQP,EAAa,SAAS,MAAM,MAAM,OAC1CQ,EAAUR,EAAa,SAAS,QAAQ,MAAM,OAEhDO,EAAM,SAAW,GAAKC,EAAQ,SAAW,EAC3C,MAAM,mCAAmC,GAGzC,QAAQ,IADY,CAAE,MAAAD,EAAO,QAAAC,EACN,EACvBR,EAAa,MAAK,EAClB,aAAa,WAAWC,CAAW,EAEvC,CAAC,EAED,SAASQ,EAAWC,EAAM,QAAS,CACjC,GAAI,CAEF,OADeR,CAEhB,OAAQS,EAAP,CACA,QAAQ,MAAMA,CAAK,CACpB,CACH,CAEA,SAASC,GAAc,CACrB,KAAM,CAAE,MAAAL,EAAO,QAAAC,CAAO,EAAKC,EAAWR,CAAW,GAAK,GAEtDD,EAAa,SAAS,MAAM,MAAQO,GAAS,GAC7CP,EAAa,SAAS,QAAQ,MAAQQ,GAAW,EACnD,CAEAI,EAAa"}
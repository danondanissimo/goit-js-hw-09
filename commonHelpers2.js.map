{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["const feedbackForm = document.querySelector('.feedback-form');\nconst STORAGE_KEY = 'feedback-form-state';\nlet data = JSON.parse(localStorage.getItem(STORAGE_KEY)) || {};\nconst defaultValues = { email: '', message: '' };\n\nfeedbackForm.addEventListener('input', event => {\n  const userEmail = event.currentTarget.elements.email.value;\n  const userMessage = event.currentTarget.elements.message.value;\n\n  console.log(userEmail, userMessage);\n\n  const userData = {\n    email: userEmail,\n    message: userMessage,\n  };\n  console.log(userData);\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(userData));\n});\n\nfeedbackForm.addEventListener('submit', event => {\n  event.preventDefault();\n\n  const email = feedbackForm.elements.email.value.trim();\n  const message = feedbackForm.elements.message.value.trim();\n\n  if (email.length === 0 || message.length === 0) {\n    alert('All form fields must be filled in');\n  } else {\n    const formDetails = { email, message };\n\n    console.log(formDetails);\n  }\n  feedbackForm.reset();\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(defaultValues));\n});\n\nfunction loadFromLS(key = 'empty') {\n  try {\n    const result = data;\n    return result;\n  } catch {\n    console.error(error);\n  }\n}\n\nfunction restoreData() {\n  const { email, message } = loadFromLS(STORAGE_KEY);\n\n  feedbackForm.elements.email.value = email;\n  feedbackForm.elements.message.value = message;\n}\n\nrestoreData();\n"],"names":["feedbackForm","STORAGE_KEY","data","defaultValues","event","userEmail","userMessage","userData","email","message","loadFromLS","key","restoreData"],"mappings":"wFAAA,MAAMA,EAAe,SAAS,cAAc,gBAAgB,EACtDC,EAAc,sBACpB,IAAIC,EAAO,KAAK,MAAM,aAAa,QAAQD,CAAW,CAAC,GAAK,GAC5D,MAAME,EAAgB,CAAE,MAAO,GAAI,QAAS,EAAE,EAE9CH,EAAa,iBAAiB,QAASI,GAAS,CAC9C,MAAMC,EAAYD,EAAM,cAAc,SAAS,MAAM,MAC/CE,EAAcF,EAAM,cAAc,SAAS,QAAQ,MAEzD,QAAQ,IAAIC,EAAWC,CAAW,EAElC,MAAMC,EAAW,CACf,MAAOF,EACP,QAASC,CACb,EACE,QAAQ,IAAIC,CAAQ,EACpB,aAAa,QAAQN,EAAa,KAAK,UAAUM,CAAQ,CAAC,CAC5D,CAAC,EAEDP,EAAa,iBAAiB,SAAUI,GAAS,CAC/CA,EAAM,eAAc,EAEpB,MAAMI,EAAQR,EAAa,SAAS,MAAM,MAAM,OAC1CS,EAAUT,EAAa,SAAS,QAAQ,MAAM,OAEhDQ,EAAM,SAAW,GAAKC,EAAQ,SAAW,EAC3C,MAAM,mCAAmC,EAIzC,QAAQ,IAFY,CAAE,MAAAD,EAAO,QAAAC,EAEN,EAEzBT,EAAa,MAAK,EAClB,aAAa,QAAQC,EAAa,KAAK,UAAUE,CAAa,CAAC,CACjE,CAAC,EAED,SAASO,EAAWC,EAAM,QAAS,CACjC,GAAI,CAEF,OADeT,CAEnB,MAAI,CACA,QAAQ,MAAM,KAAK,CACpB,CACH,CAEA,SAASU,GAAc,CACrB,KAAM,CAAE,MAAAJ,EAAO,QAAAC,CAAS,EAAGC,EAAWT,CAAW,EAEjDD,EAAa,SAAS,MAAM,MAAQQ,EACpCR,EAAa,SAAS,QAAQ,MAAQS,CACxC,CAEAG,EAAa"}